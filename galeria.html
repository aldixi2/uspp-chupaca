<!-- ===========================
ARCHIVO 1: galeria.html
GU√ÅRDALO COMO: galeria.html
y crea una carpeta: assets/
coloca tus fotos dentro: assets/g1.jpg, g2.jpg, g3.jpg...
=========================== -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Galer√≠a | USPP - Red de Salud Chupaca</title>

  <style>
    :root{
      --bg:#020617;
      --soft:#0b1120;
      --border:rgba(148,163,184,.35);
      --text:#e5e7eb;
      --muted:#9ca3af;
      --p:#4f46e5;
      --s:#06b6d4;
      --w:#f97316;
      --shadow:0 18px 45px rgba(15,23,42,.75);
      --r:22px;

      --ny-gold:#fbbf24;
      --ny-purple:#a855f7;
      --ny-cyan:#22d3ee;
      --ny-silver:#e5e7eb;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:
        radial-gradient(circle at top left, rgba(79,70,229,.45), transparent 55%),
        radial-gradient(circle at bottom right, rgba(6,182,212,.42), transparent 55%),
        radial-gradient(circle at 60% 10%, rgba(251,191,36,.18), transparent 45%),
        linear-gradient(145deg,#020617,#020617 55%,#020617);
      color:var(--text);line-height:1.6;
      overflow-x:hidden;
    }
    a{text-decoration:none;color:inherit}
    .container{width:100%;max-width:1180px;margin:0 auto;padding:0 1.5rem}

    /* LOADER */
    #loader{
      position:fixed;inset:0;background:#020617;
      display:flex;flex-direction:column;justify-content:center;align-items:center;
      z-index:99999;gap:1.2rem;transition:opacity .4s ease;
    }
    .loader-logo{
      font-size:2rem;font-weight:900;padding:1.2rem 1.6rem;
      background:conic-gradient(from 210deg,var(--ny-gold),var(--ny-purple),var(--ny-cyan),var(--ny-gold));
      border-radius:16px;color:#fff;
      box-shadow:0 18px 50px rgba(0,0,0,.35);
    }
    .loader-circle{
      width:55px;height:55px;border:5px solid rgba(255,255,255,.2);
      border-top-color:var(--ny-cyan);border-radius:50%;
      animation:spin 1s linear infinite;
    }
    @keyframes spin{100%{transform:rotate(360deg)}}

    /* CONFETI */
    .confetti{position:fixed;inset:0;pointer-events:none;z-index:9997;overflow:hidden}
    .confetti .piece{
      position:absolute;top:-20px;width:10px;height:14px;border-radius:4px;opacity:.9;
      animation:confettiFall linear infinite;
      filter:saturate(1.05) contrast(1.05);
    }
    @keyframes confettiFall{to{ transform:translateY(110vh) rotate(720deg); opacity:.8; }}

    /* BURBUJAS (m√°s friendly para pacientes) */
    .bubbles{position:fixed;inset:0;pointer-events:none;z-index:2;overflow:hidden}
    .bubble{
      position:absolute;
      bottom:-120px;
      width:18px;height:18px;border-radius:999px;
      background:radial-gradient(circle at 30% 30%, rgba(255,255,255,.20), rgba(34,211,238,.12));
      border:1px solid rgba(148,163,184,.18);
      animation:floatUp linear infinite;
      filter:blur(.1px);
      opacity:.85;
    }
    @keyframes floatUp{
      0%{transform:translateY(0) translateX(0) scale(.9); opacity:0}
      10%{opacity:.9}
      100%{transform:translateY(-120vh) translateX(25px) scale(1.15); opacity:0}
    }

    /* HEADER */
    header{
      position:sticky;top:0;z-index:40;
      background: radial-gradient(circle at top left, rgba(79,70,229,.18), transparent 40%),
                 rgba(15,23,42,.96);
      backdrop-filter:blur(20px);
      border-bottom:1px solid rgba(148,163,184,.4);
    }
    .navbar{display:flex;align-items:center;justify-content:space-between;padding:.7rem 0;gap:1rem}
    .logo{display:flex;align-items:center;gap:.7rem}
    .logo-mark{
      width:40px;height:40px;border-radius:999px;
      background:conic-gradient(from 210deg,var(--p),var(--s),var(--w),var(--p));
      padding:2px;flex:0 0 auto;
    }
    .logo-inner{
      width:100%;height:100%;border-radius:inherit;
      background:radial-gradient(circle at 30% 20%,#0b1120,#020617);
      display:flex;align-items:center;justify-content:center;
      color:#e5e7eb;font-weight:1000;letter-spacing:.08em;
    }
    .logo-text{display:flex;flex-direction:column;gap:.05rem}
    .logo-title{font-size:.92rem;letter-spacing:.08em;text-transform:uppercase;font-weight:1000;line-height:1.1}
    .logo-subtitle{font-size:.75rem;color:var(--muted)}

    .nav-links{display:flex;align-items:center;gap:.75rem;margin-left:auto;flex-wrap:wrap;justify-content:flex-end}
    .nav-links a{position:relative;color:#d1d5db;font-size:.9rem}
    .nav-links a::after{
      content:"";position:absolute;left:0;bottom:-.25rem;width:0;height:2px;border-radius:999px;
      background:linear-gradient(90deg,var(--p),var(--s));transition:width .18s ease
    }
    .nav-links a:hover::after{width:100%}
    .nav-cta{
      padding:.55rem 1rem;border-radius:999px;border:1px solid rgba(148,163,184,.35);
      background: radial-gradient(circle at top left, rgba(79,70,229,.18), rgba(15,23,42,1));
      color:#e5e7eb;font-size:.85rem;font-weight:1000;display:inline-flex;align-items:center;gap:.4rem;
      cursor:pointer;box-shadow:0 10px 28px rgba(15,23,42,.75);
      transition:transform .14s ease, box-shadow .14s ease, border-color .14s ease;
      white-space:nowrap;
    }
    .nav-cta:hover{transform:translateY(-1px);box-shadow:0 16px 36px rgba(15,23,42,.9);border-color:rgba(79,70,229,.8)}

    /* HERO */
    .hero{padding:2.2rem 0 1.4rem;position:relative;z-index:3}
    .hero-grid{display:grid;grid-template-columns:minmax(0,1.1fr) minmax(0,.9fr);gap:1.6rem;align-items:center}
    .hero-kicker{
      display:inline-flex;align-items:center;gap:.55rem;padding:.18rem .55rem;border-radius:999px;
      border:1px solid rgba(148,163,184,.5);
      background:radial-gradient(circle at top left, rgba(79,70,229,.3), rgba(15,23,42,.95));
      font-size:.72rem;color:var(--muted);margin-bottom:.75rem;
    }
    .hero-kicker-dot{width:8px;height:8px;border-radius:999px;background:#22c55e;box-shadow:0 0 0 6px rgba(34,197,94,.25)}
    .hero-title{font-size:clamp(2rem,3.2vw,2.55rem);letter-spacing:-.03em;color:#f9fafb;margin-bottom:.5rem}
    .hero-highlight{
      background:linear-gradient(135deg,var(--ny-gold),var(--s),var(--p));
      -webkit-background-clip:text;background-clip:text;color:transparent
    }
    .hero-text{font-size:.95rem;color:var(--muted);max-width:38rem;margin-bottom:1rem}
    .hero-actions{display:flex;flex-wrap:wrap;gap:.7rem}
    .btn-primary{
      padding:.7rem 1.3rem;border-radius:999px;border:none;
      background:radial-gradient(circle at top left,var(--p),var(--s));
      color:#f9fafb;font-size:.9rem;font-weight:1000;display:inline-flex;align-items:center;gap:.4rem;
      cursor:pointer;box-shadow:0 20px 45px rgba(15,23,42,.95);
      transition:transform .14s ease, box-shadow .14s ease;
    }
    .btn-primary:hover{transform:translateY(-1px);box-shadow:0 24px 60px rgba(15,23,42,1)}
    .btn-ghost{
      padding:.68rem 1.1rem;border-radius:999px;border:1px solid rgba(148,163,184,.6);
      background:rgba(15,23,42,.8);color:#e5e7eb;font-size:.88rem;display:inline-flex;align-items:center;gap:.4rem;
      cursor:pointer;transition:background .14s ease, transform .14s ease, box-shadow .14s ease;
    }
    .btn-ghost:hover{background:rgba(15,23,42,1);transform:translateY(-1px);box-shadow:0 14px 36px rgba(15,23,42,.9)}

    .hero-panel{
      background:radial-gradient(circle at top left, rgba(34,211,238,.22), rgba(15,23,42,.95));
      border-radius:26px;padding:1.1rem 1.2rem;border:1px solid rgba(148,163,184,.5);
      box-shadow:var(--shadow);position:relative;overflow:hidden
    }
    .hero-panel::before{
      content:"";position:absolute;right:-40px;top:-40px;width:160px;height:160px;border-radius:999px;
      border:32px solid rgba(251,191,36,.22);opacity:.7
    }
    .hero-panel-inner{position:relative;z-index:1}
    .hero-panel-tag{font-size:.7rem;text-transform:uppercase;letter-spacing:.16em;color:#c7d2fe;margin-bottom:.35rem}
    .hero-panel-title{font-size:1rem;font-weight:1000;margin-bottom:.6rem}
    .hero-panel-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:.7rem;font-size:.78rem}
    .hero-panel-item{
      background:rgba(15,23,42,.9);border-radius:16px;padding:.6rem .7rem;border:1px solid rgba(148,163,184,.6)
    }
    .hero-panel-label{font-size:.7rem;color:var(--muted)}
    .hero-panel-value{font-weight:1000}

    /* SECTIONS */
    .section{padding:1.4rem 0 2.2rem;position:relative;z-index:3}
    .section-header{margin-bottom:1.1rem}
    .section-kicker{font-size:.78rem;text-transform:uppercase;letter-spacing:.18em;color:var(--muted);margin-bottom:.25rem}
    .section-title{font-size:1.35rem;color:#f9fafb;margin-bottom:.35rem}
    .section-subtitle{font-size:.9rem;color:var(--muted);max-width:44rem}

    /* Gallery grid */
    .gallery-toolbar{
      display:flex;flex-wrap:wrap;gap:.6rem;align-items:center;justify-content:space-between;
      background:rgba(15,23,42,.72);
      border:1px solid rgba(148,163,184,.45);
      border-radius:16px;
      padding:.8rem .9rem;
      box-shadow:0 14px 32px rgba(0,0,0,.25);
      margin-bottom:1rem;
    }
    .search{
      display:flex;align-items:center;gap:.55rem;flex:1;min-width:240px;
      padding:.55rem .75rem;border-radius:14px;border:1px solid rgba(148,163,184,.55);
      background:rgba(2,6,23,.7);
    }
    .search input{
      width:100%;
      border:0;outline:0;background:transparent;color:var(--text);
      font-size:.9rem;
    }
    .chips{display:flex;gap:.45rem;flex-wrap:wrap;justify-content:flex-end}
    .chip{
      cursor:pointer;
      padding:.4rem .75rem;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.45);
      background:rgba(15,23,42,.75);
      color:#cbd5e1;
      font-size:.78rem;
      font-weight:900;
      transition:transform .12s ease, border-color .12s ease, background .12s ease;
      user-select:none;
    }
    .chip:hover{transform:translateY(-1px);border-color:rgba(34,211,238,.7)}
    .chip.active{
      background:linear-gradient(135deg, rgba(79,70,229,.35), rgba(34,211,238,.25));
      border-color:rgba(34,211,238,.7);
      box-shadow:0 0 0 4px rgba(34,211,238,.10);
    }

    .gallery-grid{
      display:grid;
      grid-template-columns:repeat(3,minmax(0,1fr));
      gap:1rem;
    }
    .gcard{
      background:linear-gradient(180deg, rgba(11,17,32,1), rgba(2,6,23,.96));
      border:1px solid rgba(148,163,184,.35);
      border-radius:18px;
      overflow:hidden;
      box-shadow:0 16px 44px rgba(0,0,0,.35);
      position:relative;
      transform:translateY(0);
      transition:transform .15s ease, border-color .15s ease;
    }
    .gcard:hover{transform:translateY(-3px);border-color:rgba(34,211,238,.6)}
    .gmedia{
      height:210px;
      background:rgba(15,23,42,.7);
      position:relative;
      overflow:hidden;
    }
    .gmedia img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      transform:scale(1.02);
      filter:saturate(1.05) contrast(1.05);
      transition:transform .25s ease;
    }
    .gcard:hover .gmedia img{transform:scale(1.07)}
    .gmedia::after{
      content:"";
      position:absolute;inset:0;
      background:linear-gradient(180deg, rgba(2,6,23,.05), rgba(2,6,23,.72));
      pointer-events:none;
    }
    .gbody{padding:.9rem 1rem}
    .gtitle{font-weight:1000;color:#fff;margin-bottom:.15rem}
    .gmeta{font-size:.78rem;color:rgba(203,213,225,.85)}
    .gbadges{display:flex;flex-wrap:wrap;gap:.4rem;margin-top:.6rem}
    .gbadge{
      padding:.28rem .6rem;border-radius:999px;
      border:1px solid rgba(148,163,184,.35);
      background:rgba(15,23,42,.78);
      font-size:.72rem;color:#cbd5e1;font-weight:900;
    }

    /* Lightbox */
    .lightbox{
      position:fixed;inset:0;
      background:rgba(2,6,23,.82);
      display:none;
      align-items:center;
      justify-content:center;
      padding:1.2rem;
      z-index:99999;
    }
    .lightbox.active{display:flex}
    .lb-card{
      width:min(980px, 96vw);
      border-radius:18px;
      overflow:hidden;
      border:1px solid rgba(148,163,184,.35);
      background:rgba(15,23,42,.92);
      box-shadow:0 22px 70px rgba(0,0,0,.55);
      position:relative;
    }
    .lb-top{
      display:flex;align-items:center;justify-content:space-between;
      padding:.7rem .9rem;
      border-bottom:1px solid rgba(148,163,184,.25);
      gap:.6rem;
    }
    .lb-title{font-weight:1000}
    .lb-actions{display:flex;gap:.4rem}
    .icon-btn{
      width:42px;height:42px;border-radius:12px;
      border:1px solid rgba(148,163,184,.35);
      background:rgba(2,6,23,.7);
      color:#fff;
      cursor:pointer;
      font-size:1.05rem;
      display:flex;align-items:center;justify-content:center;
      transition:transform .12s ease, border-color .12s ease, background .12s ease;
    }
    .icon-btn:hover{transform:translateY(-1px);border-color:rgba(34,211,238,.7)}
    .lb-media{
      background:#000;
      max-height:72vh;
    }
    .lb-media img{
      width:100%;
      height:auto;
      max-height:72vh;
      object-fit:contain;
      display:block;
      background:#000;
    }
    .lb-desc{
      padding:.8rem .9rem;
      color:#cbd5e1;
      font-size:.9rem;
    }

    /* FOOTER */
    footer{
      padding:1.2rem 0 1.7rem;border-top:1px solid rgba(148,163,184,.65);
      margin-top:1.4rem;background:rgba(15,23,42,.95);
      position:relative;z-index:3;
    }
    .footer-inner{
      display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:.7rem;
      font-size:.78rem;color:var(--muted)
    }
    .footer-links{display:flex;flex-wrap:wrap;gap:.9rem}

    /* Responsive */
    @media (max-width:960px){
      .hero-grid{grid-template-columns:minmax(0,1fr)}
      .gallery-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
    }
    @media (max-width:640px){
      .container{padding:0 1.1rem}
      .gallery-grid{grid-template-columns:minmax(0,1fr)}
      .gmedia{height:230px}
    }
  </style>
</head>

<body>
  <div class="confetti" id="confetti"></div>
  <div class="bubbles" id="bubbles"></div>

  <div id="loader">
    <div class="loader-logo">üì∏</div>
    <div class="loader-circle"></div>
  </div>

  <header>
    <div class="container navbar">
      <div class="logo">
        <div class="logo-mark"><div class="logo-inner">US</div></div>
        <div class="logo-text">
          <span class="logo-title">Unidad de Seguros P√∫blicos y Privados</span>
          <span class="logo-subtitle">Red de Salud Chupaca</span>
        </div>
      </div>

      <nav class="nav-links">
        <a href="uspp_chupaca.html">Inicio</a>
        <button class="nav-cta" onclick="window.location.href='modulos.html'">Ver m√≥dulos <span>‚Üó</span></button>
        <button class="nav-cta" onclick="window.location.href='pedrito_en_linea.html'">Pedrito en L√≠nea <span>üìû</span></button>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-grid">
        <div>
          <div class="hero-kicker">
            <span class="hero-kicker-dot"></span>
            <span>Galer√≠a institucional</span>
          </div>

          <h1 class="hero-title">
            Momentos de atenci√≥n y orientaci√≥n<br />
            <span class="hero-highlight">para nuestra poblaci√≥n</span>.
          </h1>

          <p class="hero-text">
            Aqu√≠ podr√°s ver fotos de actividades, campa√±as, orientaci√≥n al usuario y trabajo articulado
            de la Red de Salud Chupaca.
          </p>

          <div class="hero-actions">
            <button class="btn-primary" type="button" onclick="document.getElementById('galeria').scrollIntoView({behavior:'smooth'})">
              Ver galer√≠a <span>‚¨á</span>
            </button>
            <button class="btn-ghost" type="button" onclick="window.location.href='uspp_chupaca.html'">
              Volver al inicio
            </button>
          </div>
        </div>

        <aside class="hero-panel">
          <div class="hero-panel-inner">
            <div class="hero-panel-tag">MANDANOS TUS FOTOS</div>
            <div class="hero-panel-title">¬øC√≥mo agregar tus fotos?</div>
            <div class="hero-panel-grid">
              <div class="hero-panel-item">
                <div class="hero-panel-label">Numero de celular</div>
                <div class="hero-panel-value">982009770/</div>
              </div>
                <div class="hero-panel-item">
                <div class="hero-panel-label">Formatos</div>
                <div class="hero-panel-value">JPG / PNG</div>
              </div>
              <div class="hero-panel-item">
                <div class="hero-panel-label">Tip</div>
                <div class="hero-panel-value">Nombres cortos</div>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </section>

    <section id="galeria" class="section">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">Fotos</div>
          <h2 class="section-title">Galer√≠a</h2>
          <p class="section-subtitle">
            Puedes filtrar por categor√≠as o buscar por nombre. Haz clic en una foto para ampliarla.
          </p>
        </div>

        <div class="gallery-toolbar">
          <div class="search">
            <span>üîé</span>
            <input id="searchInput" type="text" placeholder="Buscar (ejm: campa√±a, orientaci√≥n, afiches)..." />
          </div>

          <div class="chips" id="chips">
            <span class="chip active" data-filter="all">Todo</span>
            <span class="chip" data-filter="campana">Campa√±as</span>
            <span class="chip" data-filter="orientacion">Orientaci√≥n</span>
            <span class="chip" data-filter="afiches">Afiches</span>
            <span class="chip" data-filter="personal">Personal</span>
          </div>
        </div>

        <div class="gallery-grid" id="galleryGrid">
          <!-- CAMBIA estas tarjetas seg√∫n tus fotos -->
          <article class="gcard" data-tags="campana orientacion" data-title="Campa√±a de orientaci√≥n">
            <div class="gmedia">
              <img src="assets/g1.jpg" alt="Campa√±a de orientaci√≥n" loading="lazy" />
            </div>
            <div class="gbody">
              <div class="gtitle">Campa√±a de orientaci√≥n</div>
              <div class="gmeta">Actividad ‚Ä¢ Red de Salud Chupaca</div>
              <div class="gbadges">
                <span class="gbadge">Campa√±as</span>
                <span class="gbadge">Orientaci√≥n</span>
              </div>
            </div>
          </article>

          <article class="gcard" data-tags="afiches" data-title="Afiches informativos">
            <div class="gmedia">
              <img src="assets/g2.jpg" alt="Afiches informativos" loading="lazy" />
            </div>
            <div class="gbody">
              <div class="gtitle">Afiches informativos</div>
              <div class="gmeta">Comunicaci√≥n ‚Ä¢ Pacientes</div>
              <div class="gbadges">
                <span class="gbadge">Afiches</span>
              </div>
            </div>
          </article>

          <article class="gcard" data-tags="personal" data-title="Trabajo del personal">
            <div class="gmedia">
              <img src="assets/g3.jpg" alt="Trabajo del personal" loading="lazy" />
            </div>
            <div class="gbody">
              <div class="gtitle">Trabajo del personal</div>
              <div class="gmeta">Equipo ‚Ä¢ Atenci√≥n</div>
              <div class="gbadges">
                <span class="gbadge">Personal</span>
              </div>
            </div>
          </article>

          <article class="gcard" data-tags="orientacion" data-title="Atenci√≥n y orientaci√≥n al usuario">
            <div class="gmedia">
              <img src="assets/g4.jpg" alt="Atenci√≥n y orientaci√≥n al usuario" loading="lazy" />
            </div>
            <div class="gbody">
              <div class="gtitle">Atenci√≥n y orientaci√≥n</div>
              <div class="gmeta">Soporte ‚Ä¢ Usuarios</div>
              <div class="gbadges">
                <span class="gbadge">Orientaci√≥n</span>
              </div>
            </div>
          </article>

          <article class="gcard" data-tags="campana" data-title="Campa√±a preventiva">
            <div class="gmedia">
              <img src="assets/g5.jpg" alt="Campa√±a preventiva" loading="lazy" />
            </div>
            <div class="gbody">
              <div class="gtitle">Campa√±a preventiva</div>
              <div class="gmeta">Salud ‚Ä¢ Comunidad</div>
              <div class="gbadges">
                <span class="gbadge">Campa√±as</span>
              </div>
            </div>
          </article>

          <article class="gcard" data-tags="afiches orientacion" data-title="Recomendaciones al paciente">
            <div class="gmedia">
              <img src="assets/g6.jpg" alt="Recomendaciones al paciente" loading="lazy" />
            </div>
            <div class="gbody">
              <div class="gtitle">Recomendaciones</div>
              <div class="gmeta">Informaci√≥n ‚Ä¢ Pacientes</div>
              <div class="gbadges">
                <span class="gbadge">Afiches</span>
                <span class="gbadge">Orientaci√≥n</span>
              </div>
            </div>
          </article>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container footer-inner">
      <span>&copy; <span id="year"></span> USPP ‚Äì Red de Salud Chupaca. Todos los derechos reservados.</span>
      <div class="footer-links">
        <a href="uspp_chupaca.html">Inicio</a>
        <a href="#galeria">Galer√≠a</a>
        <a href="modulos.html">M√≥dulos</a>
        <a href="pedrito_en_linea.html">Pedrito en L√≠nea</a>
      </div>
    </div>
  </footer>

  <!-- LIGHTBOX -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lb-card" role="dialog" aria-modal="true">
      <div class="lb-top">
        <div class="lb-title" id="lbTitle">Foto</div>
        <div class="lb-actions">
          <button class="icon-btn" id="lbPrev" type="button" title="Anterior">‚ùÆ</button>
          <button class="icon-btn" id="lbNext" type="button" title="Siguiente">‚ùØ</button>
          <button class="icon-btn" id="lbClose" type="button" title="Cerrar">‚úï</button>
        </div>
      </div>
      <div class="lb-media">
        <img id="lbImg" src="" alt="Foto ampliada" />
      </div>
      <div class="lb-desc" id="lbDesc">Haz clic fuera para cerrar.</div>
    </div>
  </div>

  <script>
    // footer year
    document.getElementById("year").textContent = new Date().getFullYear();

    // loader
    window.addEventListener("load", () => {
      const loader = document.getElementById("loader");
      loader.style.opacity = "0";
      setTimeout(() => loader.style.display = "none", 500);
    });

    // confetti
    (function confettiInit(){
      const wrap = document.getElementById("confetti");
      if(!wrap) return;
      const colors = ["var(--ny-gold)","var(--ny-purple)","var(--ny-cyan)","var(--ny-silver)","var(--w)","var(--s)"];
      const pieces = 38;
      for(let i=0;i<pieces;i++){
        const p = document.createElement("div");
        p.className = "piece";
        p.style.left = (Math.random()*100) + "%";
        p.style.background = colors[Math.floor(Math.random()*colors.length)];
        p.style.animationDuration = (Math.random()*3 + 5) + "s";
        p.style.animationDelay = (Math.random()*3) + "s";
        p.style.transform = "rotate(" + (Math.random()*360) + "deg)";
        p.style.width = (Math.random()*6 + 8) + "px";
        p.style.height = (Math.random()*8 + 10) + "px";
        p.style.opacity = (Math.random()*0.35 + 0.55);
        wrap.appendChild(p);
      }
    })();

    // bubbles
    (function bubblesInit(){
      const wrap = document.getElementById("bubbles");
      if(!wrap) return;
      const count = 18;
      for(let i=0;i<count;i++){
        const b = document.createElement("div");
        b.className = "bubble";
        b.style.left = (Math.random()*100) + "%";
        const size = (Math.random()*18 + 12);
        b.style.width = size + "px";
        b.style.height = size + "px";
        b.style.animationDuration = (Math.random()*7 + 9) + "s";
        b.style.animationDelay = (Math.random()*5) + "s";
        wrap.appendChild(b);
      }
    })();

    // Filtering + search
    const chips = Array.from(document.querySelectorAll(".chip"));
    const cards = Array.from(document.querySelectorAll(".gcard"));
    const searchInput = document.getElementById("searchInput");
    let activeFilter = "all";

    function applyFilters(){
      const q = (searchInput.value || "").trim().toLowerCase();
      cards.forEach((card) => {
        const tags = (card.dataset.tags || "").toLowerCase();
        const title = (card.dataset.title || "").toLowerCase();

        const matchFilter = (activeFilter === "all") || tags.includes(activeFilter);
        const matchSearch = (!q) || title.includes(q) || tags.includes(q);

        card.style.display = (matchFilter && matchSearch) ? "" : "none";
      });
    }

    chips.forEach(chip => {
      chip.addEventListener("click", () => {
        chips.forEach(c => c.classList.remove("active"));
        chip.classList.add("active");
        activeFilter = chip.dataset.filter;
        applyFilters();
      });
    });

    searchInput.addEventListener("input", applyFilters);

    // Lightbox
    const lb = document.getElementById("lightbox");
    const lbImg = document.getElementById("lbImg");
    const lbTitle = document.getElementById("lbTitle");
    const lbDesc = document.getElementById("lbDesc");
    const lbClose = document.getElementById("lbClose");
    const lbPrev = document.getElementById("lbPrev");
    const lbNext = document.getElementById("lbNext");

    const visibleCards = () => cards.filter(c => c.style.display !== "none");
    let currentIndex = 0;

    function openLB(card){
      const list = visibleCards();
      currentIndex = Math.max(0, list.indexOf(card));
      const img = card.querySelector("img");
      lbImg.src = img.src;
      lbTitle.textContent = card.dataset.title || "Foto";
      lbDesc.textContent = "Categor√≠as: " + (card.dataset.tags || "‚Äî");
      lb.classList.add("active");
      lb.setAttribute("aria-hidden","false");
    }

    function closeLB(){
      lb.classList.remove("active");
      lb.setAttribute("aria-hidden","true");
      lbImg.src = "";
    }

    function navLB(dir){
      const list = visibleCards();
      if(list.length === 0) return;
      currentIndex = (currentIndex + dir + list.length) % list.length;
      openLB(list[currentIndex]);
    }

    cards.forEach(card => {
      card.addEventListener("click", () => openLB(card));
    });

    lbClose.addEventListener("click", closeLB);
    lbPrev.addEventListener("click", () => navLB(-1));
    lbNext.addEventListener("click", () => navLB(1));

    lb.addEventListener("click", (e) => {
      if(e.target === lb) closeLB();
    });

    document.addEventListener("keydown", (e) => {
      if(!lb.classList.contains("active")) return;
      if(e.key === "Escape") closeLB();
      if(e.key === "ArrowLeft") navLB(-1);
      if(e.key === "ArrowRight") navLB(1);
    });
  </script>
</body>
</html>
